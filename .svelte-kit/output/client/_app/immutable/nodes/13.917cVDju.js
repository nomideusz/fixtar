import{z as Be,p as De,h as A,a1 as Q,g as r,b as Ce,T as He,f as X,i as Y,d,e as Oe,V as Ae,D as Ie,l as a,c as t,m as W,$ as Fe,r as e,R as E,q as I,v as K,H as L,w as ce,K as Re,s as N,a2 as ie,a3 as oe,x as ke,W as le,aa as ne,a9 as ue,S as de}from"../chunks/euVeJPvK.js";import{n as V}from"../chunks/BCUCx8Q8.js";import{C as G}from"../chunks/BCY0rcL3.js";import{B as F}from"../chunks/Be_B613E.js";import{I as H}from"../chunks/DHlvweli.js";import{H as Je}from"../chunks/B9QY4uHP.js";var Ke=W('<meta name="description" content="Zarządzaj ustawieniami konta, bezpieczeństwem i preferencjami"/>'),Le=de('<svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path></svg>'),Ve=de('<svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"></path></svg>'),Ge=de('<svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 17h5l-5 5v-5zM9 7h6l3 3H6l3-3z"></path></svg>'),Qe=de('<svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path></svg>'),Xe=W('<button><div class="flex items-center"><div><!></div> <div class="text-left"><div class="font-semibold text-gray-900 text-sm"> </div> <div class="text-xs text-gray-500 hidden sm:block"> </div></div></div></button>'),Ye=W('<div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4"></div>'),ea=W('<div class="mb-8"><h2 class="text-2xl font-bold text-gray-900 mb-2">Informacje osobiste</h2> <p class="text-gray-600">Zaktualizuj swoje dane osobowe i kontaktowe</p></div> <form method="POST" action="?/updateProfile"><div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div><!></div> <div><!></div> <div><!></div> <div><!></div> <div><!></div> <div><!></div></div> <div class="mt-8 flex justify-end"><!></div></form>',1),aa=W("<section><!></section>"),ta=W('<div class="mb-8"><h2 class="text-2xl font-bold text-gray-900 mb-2">Bezpieczeństwo konta</h2> <p class="text-gray-600">Zarządzaj hasłem i ustawieniami bezpieczeństwa</p></div> <div class="mb-8"><h3 class="text-lg font-semibold text-gray-900 mb-4">Zmiana hasła</h3> <form method="POST" action="?/changePassword"><div class="grid grid-cols-1 md:grid-cols-3 gap-6"><div><!></div> <div><!></div> <div><!></div></div> <div class="mt-6"><!></div></form></div> <div class="border-t border-gray-200 pt-8"><h3 class="text-lg font-semibold text-gray-900 mb-4">Dodatkowe zabezpieczenia</h3> <div class="space-y-4"><div class="flex items-center justify-between p-4 bg-gray-50 rounded-lg"><div><h4 class="font-medium text-gray-900">Weryfikacja dwuetapowa</h4> <p class="text-sm text-gray-600">Dodatkowa warstwa bezpieczeństwa dla Twojego konta</p></div> <!></div> <div class="flex items-center justify-between p-4 bg-gray-50 rounded-lg"><div><h4 class="font-medium text-gray-900">Aktywne sesje</h4> <p class="text-sm text-gray-600">Zarządzaj urządzeniami zalogowanymi na Twoje konto</p></div> <!></div></div></div>',1),ra=W("<section><!></section>"),sa=W('<div class="mb-8"><h2 class="text-2xl font-bold text-gray-900 mb-2">Preferencje powiadomień</h2> <p class="text-gray-600">Wybierz rodzaje powiadomień, które chcesz otrzymywać</p></div> <form method="POST" action="?/updateNotifications"><div class="space-y-6"><div><h3 class="text-lg font-semibold text-gray-900 mb-4">Powiadomienia email</h3> <div class="space-y-4"><label class="flex items-center"><input type="checkbox" name="orderUpdates" class="w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 focus:ring-2"/> <div class="ml-3"><div class="font-medium text-gray-900">Aktualizacje zamówień</div> <div class="text-sm text-gray-600">Otrzymuj powiadomienia o statusie zamówień</div></div></label> <label class="flex items-center"><input type="checkbox" name="marketingEmails" class="w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 focus:ring-2"/> <div class="ml-3"><div class="font-medium text-gray-900">Promocje i oferty</div> <div class="text-sm text-gray-600">Informacje o promocjach i nowych produktach</div></div></label> <label class="flex items-center"><input type="checkbox" name="newsletter" class="w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 focus:ring-2"/> <div class="ml-3"><div class="font-medium text-gray-900">Newsletter</div> <div class="text-sm text-gray-600">Miesięczny newsletter z nowościami</div></div></label></div></div> <div class="border-t border-gray-200 pt-6"><h3 class="text-lg font-semibold text-gray-900 mb-4">Powiadomienia SMS</h3> <div class="space-y-4"><label class="flex items-center"><input type="checkbox" name="smsNotifications" class="w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 focus:ring-2"/> <div class="ml-3"><div class="font-medium text-gray-900">Powiadomienia SMS</div> <div class="text-sm text-gray-600">Otrzymuj SMS o ważnych aktualizacjach</div></div></label></div></div></div> <div class="mt-8 flex justify-end"><!></div></form>',1),ia=W("<section><!></section>"),oa=W('<div class="mb-8"><h2 class="text-2xl font-bold text-gray-900 mb-2">Preferencje ogólne</h2> <p class="text-gray-600">Dostosuj swoje doświadczenie zakupowe</p></div> <form method="POST" action="?/updatePreferences"><div class="grid grid-cols-1 md:grid-cols-2 gap-8"><div><h3 class="text-lg font-semibold text-gray-900 mb-4">Język i region</h3> <div class="space-y-4"><div><label class="block text-sm font-medium text-gray-700 mb-2">Język interfejsu</label> <select name="language" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"><option>Polski</option><option>English</option><option>Deutsch</option></select></div> <div><label class="block text-sm font-medium text-gray-700 mb-2">Waluta</label> <select name="currency" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"><option>PLN (złoty)</option><option>EUR (euro)</option><option>USD (dolar)</option></select></div></div></div> <div><h3 class="text-lg font-semibold text-gray-900 mb-4">Wygląd</h3> <div class="space-y-4"><div><label class="block text-sm font-medium text-gray-700 mb-2">Motyw</label> <select name="theme" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"><option>Jasny</option><option>Ciemny</option><option>Automatyczny</option></select></div></div></div></div> <div class="mt-8 flex justify-end"><!></div></form>',1),la=W("<section><!></section>"),na=W('<div class="text-center"><h3 class="text-xl font-bold text-gray-900 mb-4">Akcje konta</h3> <p class="text-gray-600 mb-6">Zarządzaj swoim kontem lub usuń je całkowicie</p> <div class="flex flex-col sm:flex-row gap-4 justify-center"><!> <!></div></div>'),da=W('<!> <div class="space-y-8"><section><!></section> <!> <!> <!> <!> <section><!></section></div>',1);function ga(je,me){De(me,!0);let ee=A(!1),ae=A(!1),te=A(!1),g=A(Q(me.data.user)),_=Q({username:r(g)?.username||"",email:r(g)?.email||"",firstName:r(g)?.firstName||"",lastName:r(g)?.lastName||"",phone:r(g)?.phone||"",company:r(g)?.company||""}),z=Q({emailNotifications:r(g)?.preferences?.emailNotifications??!0,smsNotifications:r(g)?.preferences?.smsNotifications??!1,marketingEmails:r(g)?.preferences?.marketingEmails??!0,orderUpdates:r(g)?.preferences?.orderUpdates??!0,newsletter:r(g)?.preferences?.newsletter??!1,language:r(g)?.preferences?.language||"pl",currency:r(g)?.preferences?.currency||"PLN",theme:r(g)?.preferences?.theme||"light"}),re=A(""),R=A(""),J=A(""),O=Q({currentPassword:"",newPassword:"",confirmPassword:""}),B=Q({username:"",email:"",firstName:"",lastName:""});const $e=i=>{const l=[];return i.length<8&&l.push("Minimum 8 znaków"),/[A-Z]/.test(i)||l.push("Zawiera wielką literę"),/[a-z]/.test(i)||l.push("Zawiera małą literę"),/[0-9]/.test(i)||l.push("Zawiera cyfrę"),l},Pe=i=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(i);Ce(()=>{if(r(R)){const i=$e(r(R));O.newPassword=i.length>0?i.join(", "):""}r(J)&&r(R)!==r(J)?O.confirmPassword="Hasła się nie zgadzają":O.confirmPassword="",_.email&&!Pe(_.email)?B.email="Nieprawidłowy format email":B.email="",_.username&&_.username.length<3?B.username="Minimum 3 znaki":B.username=""});const Ne=[{id:"profile",title:"Informacje osobiste",description:"Zarządzaj swoimi danymi osobowymi i kontaktowymi",icon:"profile"},{id:"security",title:"Bezpieczeństwo",description:"Zmień hasło i zarządzaj ustawieniami bezpieczeństwa",icon:"security"},{id:"notifications",title:"Powiadomienia",description:"Dostosuj preferencje powiadomień",icon:"notifications"},{id:"preferences",title:"Preferencje",description:"Personalizuj swoje doświadczenie",icon:"preferences"}];let U=A("profile");var pe=da();He("1ty8u0q",i=>{var l=Ke();Ae(()=>{Fe.title="Ustawienia Konta - FixTar"}),d(i,l)});var fe=X(pe);Je(fe,{title:"Ustawienia Konta",subtitle:"Zarządzaj swoimi danymi osobowymi, bezpieczeństwem i preferencjami zakupowymi",centered:!0,className:"bg-gradient-to-br from-purple-50 via-white to-blue-50"});var ge=t(fe,2),ve=a(ge),Se=a(ve);G(Se,{class:"p-6",children:(i,l)=>{var b=Ye();Ie(b,20,()=>Ne,k=>k,(k,p)=>{var f=Xe(),c=a(f),u=a(c),m=a(u);{var S=n=>{var v=Le();K(()=>L(v,0,`w-5 h-5 ${r(U)===p.id?"text-blue-600":"text-gray-600"}`)),d(n,v)},y=n=>{var v=Ve();K(()=>L(v,0,`w-5 h-5 ${r(U)===p.id?"text-blue-600":"text-gray-600"}`)),d(n,v)},j=n=>{var v=Ge();K(()=>L(v,0,`w-5 h-5 ${r(U)===p.id?"text-blue-600":"text-gray-600"}`)),d(n,v)},w=n=>{var v=Qe();K(()=>L(v,0,`w-5 h-5 ${r(U)===p.id?"text-blue-600":"text-gray-600"}`)),d(n,v)};Y(m,n=>{p.icon==="profile"?n(S):p.icon==="security"?n(y,1):p.icon==="notifications"?n(j,2):p.icon==="preferences"&&n(w,3)})}e(u);var $=t(u,2),h=a($),M=a(h,!0);e(h);var x=t(h,2),Z=a(x,!0);e(x),e($),e(c),e(f),K(()=>{L(f,1,`settings-nav-item ${r(U)===p.id?"settings-nav-active":"settings-nav-inactive"}`,"svelte-1ty8u0q"),L(u,1,`w-10 h-10 rounded-lg flex items-center justify-center mr-3 ${r(U)===p.id?"bg-blue-100":"bg-gray-100"} transition-colors duration-200`),ce(M,p.title),ce(Z,p.description)}),Re("click",f,()=>N(U,p.id,!0)),d(k,f)}),e(b),d(i,b)},$$slots:{default:!0}}),e(ve);var _e=t(ve,2);{var Ze=i=>{var l=aa(),b=a(l);G(b,{class:"p-8",children:(k,p)=>{var f=ea(),c=t(X(f),2),u=a(c),m=a(u),S=a(m);H(S,{label:"Nazwa użytkownika",name:"username",get error(){return B.username},required:!0,placeholder:"Wprowadź nazwę użytkownika",get value(){return _.username},set value(s){_.username=s}}),e(m);var y=t(m,2),j=a(y);H(j,{label:"Adres email",name:"email",type:"email",get error(){return B.email},required:!0,placeholder:"Wprowadź adres email",get value(){return _.email},set value(s){_.email=s}}),e(y);var w=t(y,2),$=a(w);H($,{label:"Imię",name:"firstName",get error(){return B.firstName},placeholder:"Wprowadź imię",get value(){return _.firstName},set value(s){_.firstName=s}}),e(w);var h=t(w,2),M=a(h);H(M,{label:"Nazwisko",name:"lastName",get error(){return B.lastName},placeholder:"Wprowadź nazwisko",get value(){return _.lastName},set value(s){_.lastName=s}}),e(h);var x=t(h,2),Z=a(x);H(Z,{label:"Telefon",name:"phone",type:"tel",placeholder:"+48 123 456 789",get value(){return _.phone},set value(s){_.phone=s}}),e(x);var n=t(x,2),v=a(n);H(v,{label:"Firma (opcjonalnie)",name:"company",placeholder:"Nazwa firmy",get value(){return _.company},set value(s){_.company=s}}),e(n),e(u);var D=t(u,2),C=a(D);{let s=ke(()=>r(ee)||!!B.username||!!B.email);F(C,{type:"submit",get disabled(){return r(s)},get loading(){return r(ee)},children:(o,P)=>{E();var T=I("Zapisz zmiany");d(o,T)},$$slots:{default:!0}})}e(D),e(c),ie(c,(s,o)=>oe?.(s,o),()=>()=>(N(ee,!0),async({result:s,update:o})=>{N(ee,!1),s.type==="success"?(V.success("Profil został zaktualizowany"),N(g,s.data?.user||r(g),!0)):s.type==="failure"&&V.error(s.data?.message||"Wystąpił błąd"),await o()})),d(k,f)},$$slots:{default:!0}}),e(l),d(i,l)};Y(_e,i=>{r(U)==="profile"&&i(Ze)})}var be=t(_e,2);{var We=i=>{var l=ra(),b=a(l);G(b,{class:"p-8",children:(k,p)=>{var f=ta(),c=t(X(f),2),u=t(a(c),2),m=a(u),S=a(m),y=a(S);H(y,{label:"Obecne hasło",name:"currentPassword",type:"password",get error(){return O.currentPassword},required:!0,placeholder:"Wprowadź obecne hasło",get value(){return r(re)},set value(o){N(re,o,!0)}}),e(S);var j=t(S,2),w=a(j);H(w,{label:"Nowe hasło",name:"newPassword",type:"password",get error(){return O.newPassword},required:!0,placeholder:"Wprowadź nowe hasło",get value(){return r(R)},set value(o){N(R,o,!0)}}),e(j);var $=t(j,2),h=a($);H(h,{label:"Potwierdź hasło",name:"confirmPassword",type:"password",get error(){return O.confirmPassword},required:!0,placeholder:"Potwierdź nowe hasło",get value(){return r(J)},set value(o){N(J,o,!0)}}),e($),e(m);var M=t(m,2),x=a(M);{let o=ke(()=>r(ae)||!!O.newPassword||!!O.confirmPassword||!r(re)||!r(R)||!r(J));F(x,{type:"submit",get disabled(){return r(o)},get loading(){return r(ae)},children:(P,T)=>{E();var se=I("Zmień hasło");d(P,se)},$$slots:{default:!0}})}e(M),e(u),ie(u,(o,P)=>oe?.(o,P),()=>()=>(N(ae,!0),async({result:o,update:P})=>{N(ae,!1),o.type==="success"?(V.success("Hasło zostało zmienione"),N(re,""),N(R,""),N(J,"")):o.type==="failure"&&V.error(o.data?.message||"Wystąpił błąd"),await P()})),e(c);var Z=t(c,2),n=t(a(Z),2),v=a(n),D=t(a(v),2);F(D,{variant:"outline",size:"sm",children:(o,P)=>{E();var T=I();K(()=>ce(T,r(g)?.twoFactorEnabled?"Wyłącz":"Włącz")),d(o,T)},$$slots:{default:!0}}),e(v);var C=t(v,2),s=t(a(C),2);F(s,{variant:"outline",size:"sm",children:(o,P)=>{E();var T=I("Zarządzaj sesjami");d(o,T)},$$slots:{default:!0}}),e(C),e(n),e(Z),d(k,f)},$$slots:{default:!0}}),e(l),d(i,l)};Y(be,i=>{r(U)==="security"&&i(We)})}var ye=t(be,2);{var Me=i=>{var l=ia(),b=a(l);G(b,{class:"p-8",children:(k,p)=>{var f=sa(),c=t(X(f),2),u=a(c),m=a(u),S=t(a(m),2),y=a(S),j=a(y);le(j),E(2),e(y);var w=t(y,2),$=a(w);le($),E(2),e(w);var h=t(w,2),M=a(h);le(M),E(2),e(h),e(S),e(m);var x=t(m,2),Z=t(a(x),2),n=a(Z),v=a(n);le(v),E(2),e(n),e(Z),e(x),e(u);var D=t(u,2),C=a(D);F(C,{type:"submit",children:(s,o)=>{E();var P=I("Zapisz preferencje");d(s,P)},$$slots:{default:!0}}),e(D),e(c),ie(c,(s,o)=>oe?.(s,o),()=>()=>async({result:s})=>{s.type==="success"&&V.success("Preferencje powiadomień zostały zaktualizowane")}),ne(j,()=>z.orderUpdates,s=>z.orderUpdates=s),ne($,()=>z.marketingEmails,s=>z.marketingEmails=s),ne(M,()=>z.newsletter,s=>z.newsletter=s),ne(v,()=>z.smsNotifications,s=>z.smsNotifications=s),d(k,f)},$$slots:{default:!0}}),e(l),d(i,l)};Y(ye,i=>{r(U)==="notifications"&&i(Me)})}var we=t(ye,2);{var Ee=i=>{var l=la(),b=a(l);G(b,{class:"p-8",children:(k,p)=>{var f=oa(),c=t(X(f),2),u=a(c),m=a(u),S=t(a(m),2),y=a(S),j=t(a(y),2),w=a(j);w.value=w.__value="pl";var $=t(w);$.value=$.__value="en";var h=t($);h.value=h.__value="de",e(j),e(y);var M=t(y,2),x=t(a(M),2),Z=a(x);Z.value=Z.__value="PLN";var n=t(Z);n.value=n.__value="EUR";var v=t(n);v.value=v.__value="USD",e(x),e(M),e(S),e(m);var D=t(m,2),C=t(a(D),2),s=a(C),o=t(a(s),2),P=a(o);P.value=P.__value="light";var T=t(P);T.value=T.__value="dark";var se=t(T);se.value=se.__value="auto",e(o),e(s),e(C),e(D),e(u);var xe=t(u,2),Te=a(xe);F(Te,{type:"submit",get loading(){return r(te)},get disabled(){return r(te)},children:(q,ze)=>{E();var qe=I("Zapisz preferencje");d(q,qe)},$$slots:{default:!0}}),e(xe),e(c),ie(c,(q,ze)=>oe?.(q,ze),()=>()=>(N(te,!0),async({result:q})=>{N(te,!1),q.type==="success"&&V.success("Preferencje zostały zaktualizowane")})),ue(j,()=>z.language,q=>z.language=q),ue(x,()=>z.currency,q=>z.currency=q),ue(o,()=>z.theme,q=>z.theme=q),d(k,f)},$$slots:{default:!0}}),e(l),d(i,l)};Y(we,i=>{r(U)==="preferences"&&i(Ee)})}var he=t(we,2),Ue=a(he);G(Ue,{class:"p-8 bg-gradient-to-br from-red-50 to-orange-50 border-2 border-red-100",children:(i,l)=>{var b=na(),k=t(a(b),4),p=a(k);F(p,{href:"/account/export",variant:"outline",children:(c,u)=>{E();var m=I("Eksportuj dane");d(c,m)},$$slots:{default:!0}});var f=t(p,2);F(f,{variant:"danger",children:(c,u)=>{E();var m=I("Usuń konto");d(c,m)},$$slots:{default:!0}}),e(k),e(b),d(i,b)},$$slots:{default:!0}}),e(he),e(ge),d(je,pe),Oe()}Be(["click"]);export{ga as component};
