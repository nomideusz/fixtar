import{z as It,p as Ut,b as ot,s as p,h as me,a1 as it,g as e,T as At,f as _e,i as b,v as M,J as vt,d as l,e as Ft,E as Vt,af as Ht,D as fe,K as D,aa as dt,l as a,c as r,a5 as Zt,m as i,x as ae,Y as Te,I as ye,$ as Dt,r as t,R as U,W as ct,H as ie,w as $,q as ve,a6 as Tt,S as $e,F as Rt,am as Et,al as Nt,j as Ot,O as Kt}from"../chunks/euVeJPvK.js";import{P as Qt}from"../chunks/pmetS_eo.js";import{C as ze}from"../chunks/BCY0rcL3.js";import{I as je}from"../chunks/DHlvweli.js";import{B as Y}from"../chunks/Be_B613E.js";import{L as Me}from"../chunks/CtjSKAnx.js";import{H as qt}from"../chunks/B9QY4uHP.js";var Jt=i('<meta name="description"/>'),Yt=i('<a href="/products" class="ml-1 text-sm font-medium text-neutral-600 hover:text-brand-600 md:ml-2 transition-colors">Produkty</a>'),Gt=i('<span class="ml-1 text-sm font-medium text-neutral-900 md:ml-2">Produkty</span>'),Xt=i('<li aria-current="page"><div class="flex items-center"><svg class="w-5 h-5 text-neutral-400" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg> <span class="ml-1 text-sm font-medium text-neutral-900 md:ml-2"> </span></div></li>'),ea=i('<button type="button" class="absolute inset-y-0 right-4 flex items-center group/clear" aria-label="Wyczyść wyszukiwanie"><svg class="h-5 h-5 text-neutral-400 group-hover/clear:text-neutral-600 transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button>'),ta=$e('<svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.207A1 1 0 013 6.5V4z"></path></svg> Filtry',1),aa=i('<button class="category-toggle-button svelte-1dj9mz1"><svg fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7"></path></svg></button>'),ra=i('<button><span class="flex-1 text-left"> </span> <span class="filter-badge svelte-1dj9mz1"> </span> <!></button>'),sa=i('<div class="ml-4 space-y-1"></div>'),la=i('<div class="space-y-1"><div class="flex items-center"><button><span class="flex-1 text-left"> </span> <span class="filter-badge mr-2 svelte-1dj9mz1"> </span> <!></button> <!></div> <!></div>'),na=i('<div class="flex items-center justify-between mb-6"><h3 class="text-lg font-bold text-neutral-900">Filtry</h3> <!></div> <div class="border-b border-neutral-200 pb-6 mb-6"><h4 class="text-sm font-semibold text-neutral-900 mb-4">Kategorie</h4> <div class="space-y-1"><button><span class="flex-1 text-left">Wszystkie produkty</span> <span class="filter-badge svelte-1dj9mz1"> </span> <!></button> <!></div></div> <div class="border-b border-neutral-200 pb-6 mb-6"><h4 class="text-sm font-semibold text-neutral-900 mb-4">Zakres cen</h4> <div class="flex items-center space-x-3"><!> <span class="text-neutral-400 font-medium">-</span> <!></div> <div class="mt-3 text-xs text-neutral-500">Ceny w PLN</div></div> <div class="pb-6"><h4 class="text-sm font-semibold text-neutral-900 mb-4">Dostępność</h4> <label class="flex items-center cursor-pointer group"><input type="checkbox" class="rounded border-neutral-300 text-brand-600 focus:ring-brand-500 focus:ring-2"/> <span class="ml-3 text-sm text-neutral-700 group-hover:text-neutral-900 transition-colors">Tylko dostępne</span></label></div>',1),oa=$e('<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>'),ia=i('<button class="category-toggle-button svelte-1dj9mz1"><svg fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7"></path></svg></button>'),va=i('<button><span class="flex-1 text-left"> </span> <span class="filter-badge svelte-1dj9mz1"> </span></button>'),da=i('<div class="ml-4 space-y-1"></div>'),ca=i('<div class="space-y-1"><div class="flex items-center"><button><span class="flex-1 text-left"> </span> <span class="filter-badge mr-2 svelte-1dj9mz1"> </span></button> <!></div> <!></div>'),ua=i('<div class="fixed inset-0 z-50 lg:hidden"><div class="fixed inset-0 bg-black/50 backdrop-blur-sm transition-opacity" tabindex="0" role="button" aria-label="Zamknij filtry"></div> <div class="fixed inset-y-0 right-0 max-w-sm w-full bg-white shadow-2xl"><div class="flex flex-col h-full"><div class="flex items-center justify-between p-6 border-b border-neutral-200 bg-neutral-50"><h3 class="text-xl font-bold text-neutral-900">Filtry</h3> <!></div> <div class="flex-1 overflow-y-auto p-6"><div class="border-b border-neutral-200 pb-6 mb-6"><h4 class="text-sm font-semibold text-neutral-900 mb-4">Kategorie</h4> <div class="space-y-2"><button><span class="flex-1 text-left">Wszystkie</span> <span class="filter-badge svelte-1dj9mz1"> </span></button> <!></div></div> <div class="border-b border-neutral-200 pb-6 mb-6"><h4 class="text-sm font-semibold text-neutral-900 mb-4">Zakres cen</h4> <div class="flex items-center space-x-3"><!> <span class="text-neutral-400">-</span> <!></div></div> <div><h4 class="text-sm font-semibold text-neutral-900 mb-4">Dostępność</h4> <label class="flex items-center cursor-pointer"><input type="checkbox" class="rounded border-neutral-300 text-brand-600 focus:ring-brand-500"/> <span class="ml-3 text-sm text-neutral-700">Tylko dostępne</span></label></div></div> <div class="border-t border-neutral-200 p-6 bg-neutral-50"><div class="flex gap-3"><!> <!></div></div></div></div></div>'),ma=i('<span class="active-filter svelte-1dj9mz1"><svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg> <button class="filter-remove-button svelte-1dj9mz1" aria-label="Usuń filtr wyszukiwania"><svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button></span>'),fa=i('<span class="active-filter bg-accent-100 text-accent-800 svelte-1dj9mz1"><svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"></path></svg> <button class="filter-remove-button svelte-1dj9mz1" aria-label="Usuń filtr kategorii"><svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button></span>'),pa=i('<span class="active-filter bg-accent-100 text-accent-800 svelte-1dj9mz1"><svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg> Tylko dostępne <button class="filter-remove-button svelte-1dj9mz1" aria-label="Usuń filtr dostępności"><svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button></span>'),xa=i('<div class="mt-6 pt-6 border-t border-neutral-200"><div class="flex flex-wrap items-center gap-3"><span class="text-sm font-medium text-neutral-700">Aktywne filtry:</span> <!> <!> <!> <!></div></div>'),ga=i('<div class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"><div class="flex items-center justify-between sm:justify-start gap-6"><div class="flex items-center gap-2"><span class="text-sm font-medium text-neutral-700">Widok:</span> <div class="flex items-center bg-neutral-100 rounded-xl p-1"><button><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"></path></svg></button> <button><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 10h16M4 14h16M4 18h16"></path></svg></button></div></div></div> <div class="flex items-center gap-3"><span class="text-sm font-medium text-neutral-700">Sortuj:</span> <select class="px-4 py-2 border border-neutral-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-brand-500 focus:border-transparent text-sm bg-white"><option>Nazwa A-Z</option><option>Cena: rosnąco</option><option>Cena: malejąco</option></select></div></div> <!>',1),ha=i('<div class="absolute inset-0 bg-white/80 backdrop-blur-sm flex items-center justify-center z-10 rounded-xl"><div class="flex flex-col items-center gap-3"><!> <p class="text-sm font-medium text-neutral-600">Ładowanie produktów...</p></div></div>'),_a=i('<div class="max-w-md mx-auto"><svg class="w-16 h-16 text-red-500 mx-auto mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path></svg> <h3 class="text-lg font-semibold text-neutral-900 mb-2">Wystąpił błąd</h3> <p class="text-neutral-600 mb-4"> </p> <!></div>'),ba=i('<div class="grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-3 gap-6"></div>'),ka=i('<img class="w-full h-full object-cover" loading="lazy"/> <div class="hidden items-center justify-center w-full h-full"><svg class="w-8 h-8 text-neutral-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg></div>',1),wa=i('<div class="flex items-center justify-center w-full h-full"><svg class="w-8 h-8 text-neutral-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg></div>'),ya=i('<p class="text-sm text-neutral-600 mb-3 line-clamp-2"> </p>'),za=i('<span class="text-xs bg-brand-50 text-brand-600 px-2 py-1 rounded-md font-medium"> </span>'),ja=i('<div class="flex flex-wrap gap-1 mb-3"></div>'),Ca=i('<span class="text-sm text-neutral-500 line-through"> </span>'),Pa=i('<div class="flex items-center gap-6"><div class="flex-shrink-0"><div class="w-24 h-24 rounded-xl overflow-hidden bg-neutral-100"><!></div></div> <div class="flex-1 min-w-0"><h3 class="text-lg font-semibold text-neutral-900 mb-1"> </h3> <!> <!> <div class="flex items-center justify-between"><div class="flex items-center gap-3"><span class="text-xl font-bold text-brand-600"> </span> <!></div> <!></div></div></div>'),Ma=i('<div class="space-y-4"></div>'),$a=$e('<svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path></svg> Poprzednia',1),Ba=$e('Następna <svg class="w-4 h-4 ml-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg>',1),Sa=i('<div class="mt-12 flex justify-center"><nav class="flex items-center gap-2"><!> <!> <!></nav></div>'),La=i("<!> <!>",1),Wa=i('<div class="flex flex-col sm:flex-row gap-3 justify-center"><!> <!></div>'),Ia=i('<div class="max-w-lg mx-auto"><div class="relative"><div class="absolute inset-0 flex items-center justify-center"><div class="w-32 h-32 bg-neutral-200 rounded-full filter blur-3xl opacity-20"></div></div> <svg class="w-20 h-20 text-neutral-400 mx-auto mb-6 relative" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M9 5l7 7-7 7"></path></svg></div> <h3 class="text-2xl font-bold text-neutral-900 mb-3">Brak produktów</h3> <p class="text-neutral-600 mb-6"> </p> <!></div>'),Ua=i('<!> <section class="bg-white border-b border-neutral-100"><div class="max-w-screen-2xl mx-auto px-6 sm:px-8 lg:px-12 py-8"><nav class="flex mb-6" aria-label="Breadcrumb"><ol class="inline-flex items-center space-x-1 md:space-x-2"><li class="inline-flex items-center"><a href="/" class="inline-flex items-center text-sm font-medium text-neutral-600 hover:text-brand-600 transition-colors"><svg class="w-4 h-4 mr-2" fill="currentColor" viewBox="0 0 20 20"><path d="m19.707 9.293-2-2-7-7a1 1 0 0 0-1.414 0l-7 7-2 2a1 1 0 0 0 1.414 1.414L2 10.414V18a2 2 0 0 0 2 2h3a1 1 0 0 0 1-1v-4a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v4a1 1 0 0 0 1 1h3a2 2 0 0 0 2-2v-7.586l.293.293a1 1 0 0 0 1.414-1.414Z"></path></svg> Strona główna</a></li> <li><div class="flex items-center"><svg class="w-5 h-5 text-neutral-400" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg> <!></div></li> <!></ol></nav> <div class="flex flex-col lg:flex-row lg:items-center justify-between gap-6"><div class="flex-1 max-w-2xl"><form class="relative group"><div class="absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none"><svg class="h-5 w-5 text-neutral-400 group-focus-within:text-brand-600 transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg></div> <!> <!></form></div> <div class="flex items-center gap-4"><div class="text-sm text-neutral-600 font-medium"> </div> <!></div></div></div></section> <div class="bg-neutral-50 min-h-screen"><div class="max-w-screen-2xl mx-auto px-6 sm:px-8 lg:px-12 py-8"><div class="lg:grid lg:grid-cols-4 lg:gap-8"><div class="hidden lg:block lg:col-span-1"><!></div> <!> <div class="lg:col-span-3"><!> <div class="relative"><!> <!></div></div></div></div></div>',1);function Ra(ut,d){Ut(d,!0);const G=()=>Rt(Et,"$navigating",mt),[mt,ft]=Vt();let A=me(""),w=me(""),ne=me("name");ot(()=>{p(A,d.data.searchQuery,!0),p(w,d.data.selectedCategory,!0),p(ne,d.data.sortBy,!0)});let be=me("grid"),ge=me(!1),j=me(it(new Set)),de=me(it({min:"0",max:"1000"})),ce=me(!1);const E=ae(()=>d.data.categories.find(s=>s.slug===e(w))?.name||d.data.subcategories.find(s=>s.slug===e(w))?.name||""),Re=ae(()=>d.data.categories.map(s=>({...s,subcategories:d.data.allSubcategories.filter(n=>n.parent===s.id)})));ot(()=>{if(e(w)){const s=d.data.categories.find(n=>n.slug===e(w));if(s)e(j).has(s.slug)||(e(j).add(s.slug),p(j,new Set(e(j)),!0));else{const n=d.data.allSubcategories.find(v=>v.slug===e(w));if(n){const v=d.data.categories.find(x=>x.id===n.parent);v&&(e(j).has(v.slug)||(e(j).add(v.slug),p(j,new Set(e(j)),!0)))}}}});function ke(){const s=new URLSearchParams;e(A)&&s.set("search",e(A)),e(w)&&s.set("category",e(w)),e(ne)!=="name"&&s.set("sort",e(ne));const n=`/products${s.toString()?"?"+s.toString():""}`;Te(n)}let Be=ae(()=>d.data.products);function pt(s){p(A,s.target.value,!0)}function pe(s){p(w,s,!0),d.data.categories.find(v=>v.slug===s)&&(e(j).add(s),p(j,new Set(e(j)),!0)),ke()}function xt(s){p(ne,s.target.value,!0),ke()}function Se(s){const n=new URLSearchParams;e(A)&&n.set("search",e(A)),e(w)&&n.set("category",e(w)),e(ne)!=="name"&&n.set("sort",e(ne)),s>1&&n.set("page",s.toString());const v=`/products${n.toString()?"?"+n.toString():""}`;Te(v)}function Ce(){p(A,""),p(w,""),p(ne,"name"),p(ce,!1),p(de,{min:"0",max:"1000"},!0),p(j,new Set,!0),Te("/products")}function gt(s){s.preventDefault(),ke()}function Ee(s){e(j).has(s)?e(j).delete(s):e(j).add(s),p(j,new Set(e(j)),!0)}var Ne=Ua();At("1dj9mz1",s=>{var n=Jt();M(()=>ye(n,"content",`Odkryj naszą kompletną ofertę narzędzi i akcesoriów${e(E)?` w kategorii ${e(E)}`:""}`)),Ht(()=>{Dt.title=`Produkty${e(E)?` - ${e(E)}`:""} - FixTar`}),l(s,n)});var Oe=_e(Ne);{let s=ae(()=>e(E)?e(E):"Narzędzia i Akcesoria"),n=ae(()=>e(E)?`Odkryj naszą profesjonalną ofertę produktów z kategorii ${e(E)}`:"Odkryj najlepsze narzędzia i akcesoria w jednym miejscu");qt(Oe,{get title(){return e(s)},get subtitle(){return e(n)},centered:!0,className:"bg-gradient-to-br from-brand-50 via-white to-accent-50"})}var Le=r(Oe,2),Ke=a(Le),We=a(Ke),Qe=a(We),Ie=r(a(Qe),2),qe=a(Ie),ht=r(a(qe),2);{var _t=s=>{var n=Yt();l(s,n)},bt=s=>{var n=Gt();l(s,n)};b(ht,s=>{e(E)?s(_t):s(bt,!1)})}t(qe),t(Ie);var kt=r(Ie,2);{var wt=s=>{var n=Xt(),v=a(n),x=r(a(v),2),L=a(x,!0);t(x),t(v),t(n),M(()=>$(L,e(E))),l(s,n)};b(kt,s=>{e(E)&&s(wt)})}t(Qe),t(We);var Je=r(We,2),Ue=a(Je),Ae=a(Ue),Ye=r(a(Ae),2);je(Ye,{type:"search",placeholder:"Szukaj produktów, kategorii, marek...",get value(){return e(A)},oninput:pt,class:"pl-12 pr-12 py-3 text-base rounded-xl border-2 border-transparent focus:border-brand-500 shadow-sm"});var yt=r(Ye,2);{var zt=s=>{var n=ea();D("click",n,()=>{p(A,""),ke()}),l(s,n)};b(yt,s=>{e(A)&&s(zt)})}t(Ae),t(Ue);var Ge=r(Ue,2),Fe=a(Ge),jt=a(Fe);t(Fe);var Ct=r(Fe,2);Y(Ct,{variant:"outline",onclick:()=>p(ge,!0),class:"lg:hidden",children:(s,n)=>{var v=ta();U(),l(s,v)},$$slots:{default:!0}}),t(Ge),t(Je),t(Ke),t(Le);var Xe=r(Le,2),et=a(Xe),tt=a(et),Ve=a(tt),Pt=a(Ve);ze(Pt,{glass:!0,class:"sticky top-6 p-6",children:(s,n)=>{var v=na(),x=_e(v),L=r(a(x),2);{var N=h=>{Y(h,{variant:"ghost",size:"sm",onclick:Ce,children:(y,q)=>{U();var ee=ve("Wyczyść wszystkie");l(y,ee)},$$slots:{default:!0}})};b(L,h=>{(e(A)||e(w)||e(ce))&&h(N)})}t(x);var O=r(x,2),k=r(a(O),2),m=a(k),c=r(a(m),2),o=a(c,!0);t(c);var F=r(c,2);{var K=h=>{Me(h,{visible:!0})};b(F,h=>{G()&&!e(w)&&h(K)})}t(m);var B=r(m,2);fe(B,16,()=>e(Re),h=>h,(h,y)=>{var q=la(),ee=a(q),f=a(ee),C=a(f),u=a(C,!0);t(C);var z=r(C,2),I=a(z,!0);t(z);var se=r(z,2);{var we=S=>{Me(S,{visible:!0})};b(se,S=>{G()&&e(w)===y.slug&&S(we)})}t(f);var he=r(f,2);{var _=S=>{var H=aa(),te=a(H);t(H),M((Z,J)=>{H.disabled=!!G(),ye(H,"aria-label",Z),ie(te,0,`w-4 h-4 transition-transform ${J??""}`)},[()=>e(j).has(y.slug)?"Ukryj podkategorie":"Pokaż podkategorie",()=>e(j).has(y.slug)?"rotate-90":""]),D("click",H,()=>Ee(y.slug)),l(S,H)};b(he,S=>{y.subcategories.length>0&&S(_)})}t(ee);var P=r(ee,2);{var V=S=>{var H=sa();fe(H,20,()=>y.subcategories,te=>te,(te,Z)=>{var J=ra(),oe=a(J),ue=a(oe,!0);t(oe);var xe=r(oe,2),He=a(xe,!0);t(xe);var Pe=r(xe,2);{var Ze=De=>{Me(De,{visible:!0})};b(Pe,De=>{G()&&e(w)===Z.slug&&De(Ze)})}t(J),M(()=>{J.disabled=!!G(),ie(J,1,`filter-subcategory-button ${e(w)===Z.slug?"active":""}`,"svelte-1dj9mz1"),$(ue,Z.name),$(He,Z.productCount)}),D("click",J,()=>pe(Z.slug)),l(te,J)}),t(H),l(S,H)},le=ae(()=>e(j).has(y.slug)&&y.subcategories.length>0);b(P,S=>{e(le)&&S(V)})}t(q),M(()=>{f.disabled=!!G(),ie(f,1,`filter-category-button flex-1 ${e(w)===y.slug?"active":""}`,"svelte-1dj9mz1"),$(u,y.name),$(I,y.productCount)}),D("click",f,()=>pe(y.slug)),l(h,q)}),t(k),t(O);var g=r(O,2),W=r(a(g),2),T=a(W);je(T,{type:"number",placeholder:"Min",class:"text-sm",get value(){return e(de).min},set value(h){e(de).min=h}});var re=r(T,4);je(re,{type:"number",placeholder:"Max",class:"text-sm",get value(){return e(de).max},set value(h){e(de).max=h}}),t(W),U(2),t(g);var R=r(g,2),X=r(a(R),2),Q=a(X);ct(Q),U(2),t(X),t(R),M(()=>{m.disabled=!!G(),ie(m,1,`filter-category-button ${e(w)?"":"active"}`,"svelte-1dj9mz1"),$(o,d.data.totalItems)}),D("click",m,()=>pe("")),dt(Q,()=>e(ce),h=>p(ce,h)),l(s,v)},$$slots:{default:!0}}),t(Ve);var at=r(Ve,2);{var Mt=s=>{var n=ua(),v=a(n),x=r(v,2),L=a(x),N=a(L),O=r(a(N),2);Y(O,{variant:"ghost",size:"sm",onclick:()=>p(ge,!1),children:(f,C)=>{var u=oa();l(f,u)},$$slots:{default:!0}}),t(N);var k=r(N,2),m=a(k),c=r(a(m),2),o=a(c),F=r(a(o),2),K=a(F,!0);t(F),t(o);var B=r(o,2);fe(B,16,()=>e(Re),f=>f,(f,C)=>{var u=ca(),z=a(u),I=a(z),se=a(I),we=a(se,!0);t(se);var he=r(se,2),_=a(he,!0);t(he),t(I);var P=r(I,2);{var V=te=>{var Z=ia(),J=a(Z);t(Z),M((oe,ue)=>{ye(Z,"aria-label",oe),ie(J,0,`w-4 h-4 transition-transform ${ue??""}`)},[()=>e(j).has(C.slug)?"Ukryj podkategorie":"Pokaż podkategorie",()=>e(j).has(C.slug)?"rotate-90":""]),D("click",Z,()=>Ee(C.slug)),l(te,Z)};b(P,te=>{C.subcategories.length>0&&te(V)})}t(z);var le=r(z,2);{var S=te=>{var Z=da();fe(Z,20,()=>C.subcategories,J=>J,(J,oe)=>{var ue=va(),xe=a(ue),He=a(xe,!0);t(xe);var Pe=r(xe,2),Ze=a(Pe,!0);t(Pe),t(ue),M(()=>{ie(ue,1,`filter-subcategory-button ${e(w)===oe.slug?"active":""}`,"svelte-1dj9mz1"),$(He,oe.name),$(Ze,oe.productCount)}),D("click",ue,()=>pe(oe.slug)),l(J,ue)}),t(Z),l(te,Z)},H=ae(()=>e(j).has(C.slug)&&C.subcategories.length>0);b(le,te=>{e(H)&&te(S)})}t(u),M(()=>{I.disabled=!!G(),ie(I,1,`filter-category-button flex-1 ${e(w)===C.slug?"active":""}`,"svelte-1dj9mz1"),$(we,C.name),$(_,C.productCount)}),D("click",I,()=>pe(C.slug)),l(f,u)}),t(c),t(m);var g=r(m,2),W=r(a(g),2),T=a(W);je(T,{type:"number",placeholder:"Min",class:"text-sm",get value(){return e(de).min},set value(f){e(de).min=f}});var re=r(T,4);je(re,{type:"number",placeholder:"Max",class:"text-sm",get value(){return e(de).max},set value(f){e(de).max=f}}),t(W),t(g);var R=r(g,2),X=r(a(R),2),Q=a(X);ct(Q),U(2),t(X),t(R),t(k);var h=r(k,2),y=a(h),q=a(y);Y(q,{variant:"outline",onclick:Ce,class:"flex-1",children:(f,C)=>{U();var u=ve("Wyczyść");l(f,u)},$$slots:{default:!0}});var ee=r(q,2);Y(ee,{onclick:()=>p(ge,!1),class:"flex-1",children:(f,C)=>{U();var u=ve("Pokaż produkty");l(f,u)},$$slots:{default:!0}}),t(y),t(h),t(L),t(x),t(n),M(()=>{o.disabled=!!G(),ie(o,1,`filter-category-button ${e(w)?"":"active"}`,"svelte-1dj9mz1"),$(K,d.data.totalItems)}),D("click",v,()=>p(ge,!1)),D("keydown",v,f=>f.key==="Escape"&&p(ge,!1)),D("click",o,()=>pe("")),dt(Q,()=>e(ce),f=>p(ce,f)),l(s,n)};b(at,s=>{e(ge)&&s(Mt)})}var rt=r(at,2),st=a(rt);ze(st,{class:"p-6 mb-8",children:(s,n)=>{var v=ga(),x=_e(v),L=a(x),N=a(L),O=r(a(N),2),k=a(O),m=r(k,2);t(O),t(N),t(L);var c=r(L,2),o=r(a(c),2),F=a(o);F.value=F.__value="name";var K=r(F);K.value=K.__value="price-low";var B=r(K);B.value=B.__value="price-high",t(o);var g;Zt(o),t(c),t(x);var W=r(x,2);{var T=re=>{var R=xa(),X=a(R),Q=r(a(X),2);{var h=u=>{var z=ma(),I=r(a(z)),se=r(I);t(z),M(()=>$(I,` "${e(A)??""}" `)),D("click",se,()=>{p(A,""),ke()}),l(u,z)};b(Q,u=>{e(A)&&u(h)})}var y=r(Q,2);{var q=u=>{var z=fa(),I=r(a(z)),se=r(I);t(z),M(()=>$(I,` ${e(E)??""} `)),D("click",se,()=>pe("")),l(u,z)};b(y,u=>{e(E)&&u(q)})}var ee=r(y,2);{var f=u=>{var z=pa(),I=r(a(z),2);t(z),D("click",I,()=>p(ce,!1)),l(u,z)};b(ee,u=>{e(ce)&&u(f)})}var C=r(ee,2);Y(C,{variant:"ghost",size:"sm",onclick:Ce,class:"text-neutral-500 hover:text-neutral-700",children:(u,z)=>{U();var I=ve("Wyczyść wszystkie");l(u,I)},$$slots:{default:!0}}),t(X),t(R),l(re,R)};b(W,re=>{(e(A)||e(w)||e(ce))&&re(T)})}M(()=>{ie(k,1,`view-mode-button ${e(be)==="grid"?"active":""}`,"svelte-1dj9mz1"),ie(m,1,`view-mode-button ${e(be)==="list"?"active":""}`,"svelte-1dj9mz1"),g!==(g=e(ne))&&(o.value=(o.__value=e(ne))??"",Tt(o,e(ne)))}),D("click",k,()=>p(be,"grid")),D("click",m,()=>p(be,"list")),D("change",o,xt),l(s,v)},$$slots:{default:!0}});var lt=r(st,2),nt=a(lt);{var $t=s=>{var n=ha(),v=a(n),x=a(v);Me(x,{visible:!0}),U(2),t(v),t(n),l(s,n)};b(nt,s=>{G()&&s($t)})}var Bt=r(nt,2);{var St=s=>{ze(s,{class:"p-12 text-center",children:(n,v)=>{var x=_a(),L=r(a(x),4),N=a(L,!0);t(L);var O=r(L,2);Y(O,{href:"/products",variant:"outline",children:(k,m)=>{U();var c=ve("Spróbuj ponownie");l(k,c)},$$slots:{default:!0}}),t(x),M(()=>$(N,d.data.error)),l(n,x)},$$slots:{default:!0}})},Lt=s=>{var n=La(),v=_e(n);{var x=k=>{var m=ba();fe(m,20,()=>e(Be),c=>c,(c,o)=>{Qt(c,{get product(){return o}})}),t(m),l(k,m)},L=k=>{var m=Ma();fe(m,20,()=>e(Be),c=>c,(c,o)=>{ze(c,{class:"p-6",children:(F,K)=>{var B=Pa(),g=a(B),W=a(g),T=a(W);{var re=_=>{var P=ka(),V=_e(P);U(2),M(()=>{ye(V,"src",o.mainImage),ye(V,"alt",o.name)}),vt("error",V,le=>{const S=le.target;if(S){S.style.display="none";const H=S.nextElementSibling;H&&(H.style.display="flex")}}),Nt(V),l(_,P)},R=_=>{var P=wa();l(_,P)};b(T,_=>{o.mainImage?_(re):_(R,!1)})}t(W),t(g);var X=r(g,2),Q=a(X),h=a(Q,!0);t(Q);var y=r(Q,2);{var q=_=>{var P=ya(),V=a(P,!0);t(P),M(()=>$(V,o.shortDescription)),l(_,P)};b(y,_=>{o.shortDescription&&_(q)})}var ee=r(y,2);{var f=_=>{var P=ja();fe(P,20,()=>o.expand.categories.slice(0,3),V=>V,(V,le)=>{var S=za(),H=a(S,!0);t(S),M(()=>$(H,le.name)),l(V,S)}),t(P),l(_,P)};b(ee,_=>{o.expand?.categories&&o.expand.categories.length>0&&_(f)})}var C=r(ee,2),u=a(C),z=a(u),I=a(z);t(z);var se=r(z,2);{var we=_=>{var P=Ca(),V=a(P);t(P),M(le=>$(V,`${le??""} zł`),[()=>o.compareAtPrice.toFixed(2)]),l(_,P)};b(se,_=>{o.compareAtPrice&&o.compareAtPrice>o.price&&_(we)})}t(u);var he=r(u,2);{let _=ae(()=>o.slug||o.id);Y(he,{get href(){return`/products/${e(_)??""}`},size:"sm",children:(P,V)=>{U();var le=ve("Zobacz szczegóły");l(P,le)},$$slots:{default:!0}})}t(C),t(X),t(B),M(_=>{$(h,o.name),$(I,`${_??""} zł`)},[()=>o.price.toFixed(2)]),l(F,B)},$$slots:{default:!0}})}),t(m),l(k,m)};b(v,k=>{e(be)==="grid"?k(x):k(L,!1)})}var N=r(v,2);{var O=k=>{var m=Sa(),c=a(m),o=a(c);{let B=ae(()=>d.data.currentPage<=1||!!G());Y(o,{onclick:()=>Se(d.data.currentPage-1),get disabled(){return e(B)},variant:"outline",size:"sm",children:(g,W)=>{var T=$a();U(),l(g,T)},$$slots:{default:!0}})}var F=r(o,2);fe(F,17,()=>Array.from({length:Math.min(5,d.data.totalPages)},(B,g)=>Math.max(1,d.data.currentPage-2)+g),Kt,(B,g)=>{var W=Ot(),T=_e(W);{var re=R=>{{let X=ae(()=>e(g)===d.data.currentPage?"primary":"outline"),Q=ae(()=>!!G());Y(R,{onclick:()=>Se(e(g)),get variant(){return e(X)},size:"sm",get disabled(){return e(Q)},class:"min-w-[40px]",children:(h,y)=>{U();var q=ve();M(()=>$(q,e(g))),l(h,q)},$$slots:{default:!0}})}};b(T,R=>{e(g)<=d.data.totalPages&&R(re)})}l(B,W)});var K=r(F,2);{let B=ae(()=>d.data.currentPage>=d.data.totalPages||!!G());Y(K,{onclick:()=>Se(d.data.currentPage+1),get disabled(){return e(B)},variant:"outline",size:"sm",children:(g,W)=>{U();var T=Ba();U(),l(g,T)},$$slots:{default:!0}})}t(c),t(m),l(k,m)};b(N,k=>{d.data.totalPages>1&&k(O)})}l(s,n)},Wt=s=>{ze(s,{class:"p-16 text-center",children:(n,v)=>{var x=Ia(),L=r(a(x),4),N=a(L,!0);t(L);var O=r(L,2);{var k=c=>{var o=Wa(),F=a(o);Y(F,{onclick:Ce,variant:"outline",children:(B,g)=>{U();var W=ve("Wyczyść filtry");l(B,W)},$$slots:{default:!0}});var K=r(F,2);Y(K,{href:"/products",children:(B,g)=>{U();var W=ve("Zobacz wszystkie produkty");l(B,W)},$$slots:{default:!0}}),t(o),l(c,o)},m=c=>{Y(c,{href:"/",children:(o,F)=>{U();var K=ve("Wróć do strony głównej");l(o,K)},$$slots:{default:!0}})};b(O,c=>{e(A)||e(w)?c(k):c(m,!1)})}t(x),M(()=>$(N,e(A)||e(E)?"Nie znaleźliśmy produktów odpowiadających Twoim kryteriom wyszukiwania":"W tej chwili nie ma dostępnych produktów")),l(n,x)},$$slots:{default:!0}})};b(Bt,s=>{d.data.error?s(St):e(Be).length>0?s(Lt,1):s(Wt,!1)})}t(lt),t(rt),t(tt),t(et),t(Xe),M(()=>$(jt,`${d.data.totalItems??""} ${d.data.totalItems===1?"produkt":d.data.totalItems<5?"produkty":"produktów"}`)),vt("submit",Ae,gt),l(ut,Ne),Ft(),ft()}It(["click","keydown","change"]);export{Ra as component};
