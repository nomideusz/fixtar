import{z as Ze,p as ta,b as ea,Y as Ft,h as F,a1 as ot,T as aa,f as ct,i as S,v as w,d as o,e as ra,F as sa,E as oa,V as ia,K as V,s as c,c as r,g as a,a5 as mt,D as xt,J as la,l as e,m as g,$ as na,r as t,R as B,q as L,w as M,a6 as ht,W as ie,a7 as le,H as bt,S as G,j as ne,x as yt,I as ve,O as va,ab as de}from"../chunks/euVeJPvK.js";import{B as H}from"../chunks/Be_B613E.js";import{I as da}from"../chunks/DHlvweli.js";import{C as Y}from"../chunks/BCY0rcL3.js";import{u as ca}from"../chunks/BCUCx8Q8.js";var ua=g('<meta name="description" content="Manage your store products"/>'),pa=G('<svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 100 4m0-4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 100 4m0-4v2m0-6V4"></path></svg> XML Pricing',1),fa=g('<div class="mb-6 p-4 bg-red-50 border border-red-200 rounded-md"><div class="flex items-center"><svg class="w-5 h-5 text-red-600 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg> <p class="text-red-600"> </p></div></div>'),_a=g('<div class="flex items-center justify-between"><div><p class="text-sm text-gray-600">Active Products</p> <p class="text-2xl font-bold text-green-600"> </p> <p class="text-xs text-gray-500 mt-1">Visible to customers</p></div> <button class="text-green-600 hover:text-green-800 transition-colors" title="View active products"><svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></button></div>'),ga=g('<div class="flex items-center justify-between"><div><p class="text-sm text-gray-600">Draft Products</p> <p class="text-2xl font-bold text-orange-600"> </p> <p class="text-xs text-gray-500 mt-1">Awaiting review</p></div> <button class="text-orange-600 hover:text-orange-800 transition-colors" title="View draft products"><svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"></path></svg></button></div>'),ma=g('<div class="flex items-center justify-between"><div><p class="text-sm text-gray-600">Inactive Products</p> <p class="text-2xl font-bold text-gray-600"> </p> <p class="text-xs text-gray-500 mt-1">Hidden from store</p></div> <button class="text-gray-600 hover:text-gray-800 transition-colors" title="View inactive products"><svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728L5.636 5.636m12.728 12.728L18.364 5.636M5.636 18.364l12.728-12.728"></path></svg></button></div>'),xa=g("<option> </option>"),ha=G('<svg class="w-4 h-4 mr-2 animate-spin" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg>'),ba=g("<!> Search",1),ya=g('<div class="mb-4"><h3 class="text-lg font-medium text-gray-900 mb-2">Search & Filter Products</h3> <p class="text-sm text-gray-600">Find products by name, SKU, or filter by status and category</p></div> <form class="space-y-4"><div class="grid grid-cols-1 md:grid-cols-4 gap-4"><div><label for="search" class="block text-sm font-medium text-gray-700 mb-1">Search</label> <!></div> <div><label for="status" class="block text-sm font-medium text-gray-700 mb-1">Status</label> <select id="status" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"><option>All Statuses</option><option>✅ Active (visible)</option><option>⚠️ Draft (hidden)</option><option>❌ Inactive (disabled)</option></select></div> <div><label for="category" class="block text-sm font-medium text-gray-700 mb-1">Category</label> <select id="category" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"><option>All Categories</option><!></select></div> <div class="flex items-end space-x-2"><!> <!></div></div></form>',1),wa=G('<svg class="w-4 h-4 mr-2 animate-spin" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg> Updating...',1),ka=g('<div class="flex items-center justify-between"><div class="flex items-center space-x-4"><div class="flex items-center"><svg class="w-5 h-5 text-blue-600 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg> <p class="font-medium text-blue-900"> </p></div> <select class="px-3 py-1 border border-blue-300 rounded-md text-sm bg-white"><option>Choose action...</option><option>✅ Set as Active (visible)</option><option>⚠️ Set as Draft (hidden)</option><option>❌ Set as Inactive (disabled)</option></select></div> <div class="flex items-center space-x-2"><!> <!></div></div>'),Pa=G('<svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>'),Sa=G('<svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>'),Ca=G('<svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>'),ja=G('<svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>'),$a=g('<img class="w-12 h-12 rounded object-cover mr-3"/>'),Ma=g('<div class="w-12 h-12 bg-gray-200 rounded mr-3 flex items-center justify-center"><svg class="w-6 h-6 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg></div>'),za=g('<p class="text-sm text-gray-500 truncate max-w-xs"> </p>'),Aa=g('<span class="text-xs bg-gray-100 text-gray-700 px-2 py-1 rounded"> </span>'),Ba=g('<span class="text-xs text-gray-500"> </span>'),La=g('<div class="flex flex-wrap gap-1"><!> <!></div>'),Ta=g('<span class="text-gray-400">No categories</span>'),Ia=g('<span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800"><svg class="w-3 h-3 mr-1" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path></svg> Active</span>'),Da=g('<span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-orange-100 text-orange-800"><svg class="w-3 h-3 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"></path></svg> Draft</span>'),Ua=g('<span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800"><svg class="w-3 h-3 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728L5.636 5.636m12.728 12.728L18.364 5.636M5.636 18.364l12.728-12.728"></path></svg> Inactive</span>'),Va=G('<svg class="w-4 h-4 animate-spin text-gray-500 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path></svg>'),Fa=g('<tr class="border-b hover:bg-gray-50"><td class="py-3 px-4"><input type="checkbox" class="rounded border-gray-300"/></td><td class="py-3 px-4"><div class="flex items-center"><!> <div><p class="font-medium text-gray-900 truncate max-w-xs"> </p> <!></div></div></td><td class="py-3 px-4 text-gray-600 font-mono text-sm"> </td><td class="py-3 px-4 font-medium"> </td><td class="py-3 px-4"><!></td><td class="px-6 py-4 whitespace-nowrap"><div class="space-y-2"><div class="flex items-center"><!> <!></div> <select class="w-full text-xs border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 disabled:opacity-50" title="Change product status"><option>✅ Set as Active</option><option>⚠️ Set as Draft</option><option>❌ Set as Inactive</option></select></div> <div class="mt-1 text-xs text-gray-500"><!></div></td></tr>'),Ha=g('<div class="text-center py-8 text-gray-500"> </div>'),Ea=g('<div class="overflow-x-auto"><table class="w-full"><thead><tr class="border-b bg-gray-50"><th class="text-left py-3 px-4 w-8"><input type="checkbox" class="rounded border-gray-300"/></th><th class="text-left py-3 px-4"><button class="flex items-center hover:text-blue-600">Product <!></button></th><th class="text-left py-3 px-4"><button class="flex items-center hover:text-blue-600">SKU <!></button></th><th class="text-left py-3 px-4"><button class="flex items-center hover:text-blue-600">Price <!></button></th><th class="text-left py-3 px-4">Categories</th><th class="text-left py-3 px-4"><button class="flex items-center hover:text-blue-600">Status & Actions <!></button></th></tr></thead><tbody></tbody></table> <!></div>'),Oa=g('<div class="mt-6 flex justify-center"><nav class="flex items-center space-x-2"><!> <!> <!></nav></div>'),Ka=g('<div class="p-6"><h3 class="text-lg font-semibold mb-4">Confirm Bulk Action</h3> <p class="text-gray-600 mb-6"> </p> <div class="flex justify-end space-x-3"><!> <!></div></div>'),Na=g('<div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50"><!></div>'),Ja=g('<div class="p-6"><h3 class="text-lg font-semibold mb-4"><!></h3> <p class="text-gray-600 mb-6"> </p> <div class="flex justify-end space-x-3"><!></div></div>'),Ra=g('<div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50"><!></div>'),Xa=g('<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"><div class="flex justify-between items-center mb-8"><div><h1 class="text-3xl font-bold text-gray-900">Manage Products</h1> <p class="mt-2 text-gray-600"> </p> <div class="mt-2 flex items-center gap-4 text-sm text-gray-500"><span>• Change product statuses and visibility</span> <span>• Search and filter all products</span> <a href="/admin/xml-products" class="text-blue-600 hover:text-blue-800 font-medium">→ Manage XML Product Pricing</a></div></div> <div class="flex gap-4"><!> <!></div></div> <!> <div class="grid grid-cols-1 sm:grid-cols-3 gap-4 mb-6"><!> <!> <!></div> <!> <!> <!> <!></div> <!> <!>',1);function Za(ce,u){ta(u,!0);const Ht=()=>sa(ca,"$userStore",ue),[ue,pe]=oa();ea(()=>{(!Ht()||!Ht().isAdmin)&&Ft("/")});let it=F(ot(u.data.filters.search)),O=F(ot(u.data.filters.status)),Z=F(ot(u.data.filters.category)),J=F(ot(u.data.filters.sort)),K=F(ot(u.data.filters.order)),$=F(ot(new Set)),T=F(!1),N=F(""),ut=F(!1),wt=F(""),pt=F("success"),ft=F(!1);function lt(s,v="success"){c(wt,s,!0),c(pt,v,!0),c(ft,!0),setTimeout(()=>{c(ft,!1)},4e3)}function q(){const s=new URLSearchParams;a(it)&&s.set("search",a(it)),a(O)&&s.set("status",a(O)),a(Z)&&s.set("category",a(Z)),a(J)!=="created"&&s.set("sort",a(J)),a(K)!=="desc"&&s.set("order",a(K));const v=`/admin/products${s.toString()?"?"+s.toString():""}`;Ft(v)}function fe(){c(it,""),c(O,""),c(Z,""),c(J,"created"),c(K,"desc"),q()}function _e(s){s.preventDefault(),q()}function _t(s){a(J)===s?c(K,a(K)==="asc"?"desc":"asc",!0):(c(J,s,!0),c(K,"asc")),q()}function ge(){a($).size===u.data.products.length?c($,new Set,!0):c($,new Set(u.data.products.map(s=>s.id)),!0)}function me(s){a($).has(s)?a($).delete(s):a($).add(s),c($,new Set(a($)),!0)}async function xe(s){if(a($).size!==0){c(T,!0);try{const l=await(await fetch("/api/admin/products/status",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({productIds:Array.from(a($)),status:s,action:"bulk_update"})})).json();l.success?(c($,new Set,!0),await de(),lt(`Successfully updated ${l.updated} products to ${s}`)):lt(`Error: ${l.error}`,"error")}catch(v){lt(`Error updating products: ${v}`,"error")}finally{c(T,!1),c(ut,!1),c(N,"")}}}async function he(s,v){c(T,!0);try{const d=await(await fetch("/api/admin/products/status",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({productIds:[s],status:v})})).json();d.success?await de():lt(`Error: ${d.error}`,"error")}catch(l){lt(`Error updating product: ${l}`,"error")}finally{c(T,!1)}}function kt(s){const v=new URLSearchParams(window.location.search);s>1?v.set("page",s.toString()):v.delete("page");const l=`/admin/products${v.toString()?"?"+v.toString():""}`;Ft(l)}function be(){!a(N)||a($).size===0||c(ut,!0)}var Et=Xa();aa("6t53h5",s=>{var v=ua();ia(()=>{na.title="Manage Products - Admin - FixTar"}),o(s,v)});var Pt=ct(Et),St=e(Pt),Ct=e(St),Ot=r(e(Ct),2),ye=e(Ot);t(Ot),B(2),t(Ct);var Kt=r(Ct,2),Nt=e(Kt);H(Nt,{href:"/admin/xml-products",variant:"secondary",children:(s,v)=>{var l=pa();B(),o(s,l)},$$slots:{default:!0}});var we=r(Nt,2);H(we,{href:"/admin/xml-sync",variant:"secondary",children:(s,v)=>{B();var l=L("Sync Products");o(s,l)},$$slots:{default:!0}}),t(Kt),t(St);var Jt=r(St,2);{var ke=s=>{var v=fa(),l=e(v),d=r(e(l),2),h=e(d);t(d),t(l),t(v),w(()=>M(h,`Error: ${u.data.error??""}`)),o(s,v)};S(Jt,s=>{u.data.error&&s(ke)})}var jt=r(Jt,2),Rt=e(jt);Y(Rt,{class:"p-4",children:(s,v)=>{var l=_a(),d=e(l),h=r(e(d),2),b=e(h,!0);t(h),B(2),t(d);var _=r(d,2);t(l),w(()=>M(b,u.data.statusCounts.active)),V("click",_,()=>{c(O,"active"),q()}),o(s,l)},$$slots:{default:!0}});var Xt=r(Rt,2);Y(Xt,{class:"p-4",children:(s,v)=>{var l=ga(),d=e(l),h=r(e(d),2),b=e(h,!0);t(h),B(2),t(d);var _=r(d,2);t(l),w(()=>M(b,u.data.statusCounts.draft)),V("click",_,()=>{c(O,"draft"),q()}),o(s,l)},$$slots:{default:!0}});var Pe=r(Xt,2);Y(Pe,{class:"p-4",children:(s,v)=>{var l=ma(),d=e(l),h=r(e(d),2),b=e(h,!0);t(h),B(2),t(d);var _=r(d,2);t(l),w(()=>M(b,u.data.statusCounts.inactive)),V("click",_,()=>{c(O,"inactive"),q()}),o(s,l)},$$slots:{default:!0}}),t(jt);var qt=r(jt,2);Y(qt,{class:"p-6 mb-6",children:(s,v)=>{var l=ya(),d=r(ct(l),2),h=e(d),b=e(h),_=r(e(b),2);da(_,{id:"search",type:"search",placeholder:"Search by name, SKU...",get value(){return a(it)},oninput:z=>c(it,z.currentTarget.value,!0)}),t(b);var y=r(b,2),p=r(e(y),2),k=e(p);k.value=k.__value="";var I=r(k);I.value=I.__value="active";var P=r(I);P.value=P.__value="draft";var D=r(P);D.value=D.__value="inactive",t(p);var j;mt(p),t(y);var E=r(y,2),m=r(e(E),2),A=e(m);A.value=A.__value="";var U=r(A);xt(U,16,()=>u.data.categories,z=>z,(z,R)=>{var C=xa(),X=e(C,!0);t(C);var st={};w(()=>{M(X,R.name),st!==(st=R.id)&&(C.value=(C.__value=R.id)??"")}),o(z,C)}),t(m);var tt;mt(m),t(E);var et=r(E,2),Q=e(et);H(Q,{type:"submit",size:"sm",get disabled(){return a(T)},children:(z,R)=>{var C=ba(),X=ct(C);{var st=x=>{var n=ha();o(x,n)};S(X,x=>{a(T)&&x(st)})}B(),o(z,C)},$$slots:{default:!0}});var at=r(Q,2);H(at,{type:"button",variant:"ghost",size:"sm",onclick:fe,get disabled(){return a(T)},children:(z,R)=>{B();var C=L("Clear");o(z,C)},$$slots:{default:!0}}),t(et),t(h),t(d),w(()=>{j!==(j=a(O))&&(p.value=(p.__value=a(O))??"",ht(p,a(O))),tt!==(tt=a(Z))&&(m.value=(m.__value=a(Z))??"",ht(m,a(Z)))}),la("submit",d,_e),V("change",p,z=>{c(O,z.currentTarget.value,!0),q()}),V("change",m,z=>{c(Z,z.currentTarget.value,!0),q()}),o(s,l)},$$slots:{default:!0}});var Qt=r(qt,2);{var Se=s=>{Y(s,{class:"p-4 mb-6 bg-blue-50 border-blue-200",children:(v,l)=>{var d=ka(),h=e(d),b=e(h),_=r(e(b),2),y=e(_);t(_),t(b);var p=r(b,2),k=e(p);k.value=k.__value="";var I=r(k);I.value=I.__value="active";var P=r(I);P.value=P.__value="draft";var D=r(P);D.value=D.__value="inactive",t(p);var j;mt(p),t(h);var E=r(h,2),m=e(E);{let U=yt(()=>!a(N)||a(T));H(m,{size:"sm",onclick:be,get disabled(){return a(U)},children:(tt,et)=>{var Q=ne(),at=ct(Q);{var z=C=>{var X=wa();B(),o(C,X)},R=C=>{var X=L("Apply Action");o(C,X)};S(at,C=>{a(T)?C(z):C(R,!1)})}o(tt,Q)},$$slots:{default:!0}})}var A=r(m,2);H(A,{size:"sm",variant:"ghost",onclick:()=>c($,new Set,!0),get disabled(){return a(T)},children:(U,tt)=>{B();var et=L("Clear Selection");o(U,et)},$$slots:{default:!0}}),t(E),t(d),w(()=>{M(y,`${a($).size??""} products selected`),p.disabled=a(T),j!==(j=a(N))&&(p.value=(p.__value=a(N))??"",ht(p,a(N)))}),V("change",p,U=>c(N,U.currentTarget.value,!0)),o(v,d)},$$slots:{default:!0}})};S(Qt,s=>{a($).size>0&&s(Se)})}var Wt=r(Qt,2);Y(Wt,{children:(s,v)=>{var l=Ea(),d=e(l),h=e(d),b=e(h),_=e(b),y=e(_);ie(y),t(_);var p=r(_),k=e(p),I=r(e(k));{var P=x=>{var n=Pa();w(()=>bt(n,0,`w-4 h-4 ml-1 ${a(K)==="asc"?"rotate-180":""}`)),o(x,n)};S(I,x=>{a(J)==="name"&&x(P)})}t(k),t(p);var D=r(p),j=e(D),E=r(e(j));{var m=x=>{var n=Sa();w(()=>bt(n,0,`w-4 h-4 ml-1 ${a(K)==="asc"?"rotate-180":""}`)),o(x,n)};S(E,x=>{a(J)==="sku"&&x(m)})}t(j),t(D);var A=r(D),U=e(A),tt=r(e(U));{var et=x=>{var n=Ca();w(()=>bt(n,0,`w-4 h-4 ml-1 ${a(K)==="asc"?"rotate-180":""}`)),o(x,n)};S(tt,x=>{a(J)==="price"&&x(et)})}t(U),t(A);var Q=r(A,2),at=e(Q),z=r(e(at));{var R=x=>{var n=ja();w(()=>bt(n,0,`w-4 h-4 ml-1 ${a(K)==="asc"?"rotate-180":""}`)),o(x,n)};S(z,x=>{a(J)==="status"&&x(R)})}t(at),t(Q),t(b),t(h);var C=r(h);xt(C,20,()=>u.data.products,x=>x,(x,n)=>{var nt=Fa(),$t=e(nt),Mt=e($t);ie(Mt),t($t);var zt=r($t),Gt=e(zt),Zt=e(Gt);{var Ae=i=>{var f=$a();w(()=>{ve(f,"src",n.mainImage),ve(f,"alt",n.name)}),o(i,f)},Be=i=>{var f=Ma();o(i,f)};S(Zt,i=>{n.mainImage?i(Ae):i(Be,!1)})}var te=r(Zt,2),At=e(te),Le=e(At,!0);t(At);var Te=r(At,2);{var Ie=i=>{var f=za(),gt=e(f,!0);t(f),w(()=>M(gt,n.shortDescription)),o(i,f)};S(Te,i=>{n.shortDescription&&i(Ie)})}t(te),t(Gt),t(zt);var Bt=r(zt),De=e(Bt,!0);t(Bt);var Lt=r(Bt),Ue=e(Lt);t(Lt);var Tt=r(Lt),Ve=e(Tt);{var Fe=i=>{var f=La(),gt=e(f);xt(gt,16,()=>n.expand.categories.slice(0,2),rt=>rt,(rt,vt)=>{var dt=Aa(),Ge=e(dt,!0);t(dt),w(()=>M(Ge,vt.name)),o(rt,dt)});var We=r(gt,2);{var Ye=rt=>{var vt=Ba(),dt=e(vt);t(vt),w(()=>M(dt,`+${n.expand.categories.length-2} more`)),o(rt,vt)};S(We,rt=>{n.expand.categories.length>2&&rt(Ye)})}t(f),o(i,f)},He=i=>{var f=Ta();o(i,f)};S(Ve,i=>{n.expand?.categories&&n.expand.categories.length>0?i(Fe):i(He,!1)})}t(Tt);var ee=r(Tt),It=e(ee),Dt=e(It),ae=e(Dt);{var Ee=i=>{var f=Ia();o(i,f)},Oe=i=>{var f=Da();o(i,f)},Ke=i=>{var f=Ua();o(i,f)};S(ae,i=>{n.status==="active"?i(Ee):n.status==="draft"?i(Oe,1):i(Ke,!1)})}var Ne=r(ae,2);{var Je=i=>{var f=Va();o(i,f)};S(Ne,i=>{a(T)&&i(Je)})}t(Dt);var W=r(Dt,2),Ut=e(W);Ut.value=Ut.__value="active";var Vt=r(Ut);Vt.value=Vt.__value="draft";var re=r(Vt);re.value=re.__value="inactive",t(W);var se;mt(W),t(It);var oe=r(It,2),Re=e(oe);{var Xe=i=>{var f=L("Visible to customers");o(i,f)},qe=i=>{var f=L("Hidden, needs review");o(i,f)},Qe=i=>{var f=L("Disabled and hidden");o(i,f)};S(Re,i=>{n.status==="active"?i(Xe):n.status==="draft"?i(qe,1):i(Qe,!1)})}t(oe),t(ee),t(nt),w((i,f)=>{le(Mt,i),M(Le,n.name),M(De,n.sku||"-"),M(Ue,`${f??""} zł`),W.disabled=a(T),se!==(se=n.status)&&(W.value=(W.__value=n.status)??"",ht(W,n.status))},[()=>a($).has(n.id),()=>n.price.toFixed(2)]),V("change",Mt,()=>me(n.id)),V("change",W,i=>he(n.id,i.currentTarget.value)),o(x,nt)}),t(C),t(d);var X=r(d,2);{var st=x=>{var n=Ha(),nt=e(n,!0);t(n),w(()=>M(nt,u.data.filters.search||u.data.filters.status||u.data.filters.category?"No products found matching your filters.":"No products in catalog.")),o(x,n)};S(X,x=>{u.data.products.length===0&&x(st)})}t(l),w(()=>le(y,a($).size===u.data.products.length&&u.data.products.length>0)),V("change",y,ge),V("click",k,()=>_t("name")),V("click",j,()=>_t("sku")),V("click",U,()=>_t("price")),V("click",at,()=>_t("status")),o(s,l)},$$slots:{default:!0}});var Ce=r(Wt,2);{var je=s=>{var v=Oa(),l=e(v),d=e(l);{let _=yt(()=>u.data.pagination.currentPage<=1);H(d,{onclick:()=>kt(u.data.pagination.currentPage-1),get disabled(){return a(_)},variant:"ghost",size:"sm",children:(y,p)=>{B();var k=L("Previous");o(y,k)},$$slots:{default:!0}})}var h=r(d,2);xt(h,17,()=>Array.from({length:Math.min(5,u.data.pagination.totalPages)},(_,y)=>Math.max(1,u.data.pagination.currentPage-2)+y),va,(_,y)=>{var p=ne(),k=ct(p);{var I=P=>{{let D=yt(()=>a(y)===u.data.pagination.currentPage?"primary":"ghost");H(P,{onclick:()=>kt(a(y)),get variant(){return a(D)},size:"sm",children:(j,E)=>{B();var m=L();w(()=>M(m,a(y))),o(j,m)},$$slots:{default:!0}})}};S(k,P=>{a(y)<=u.data.pagination.totalPages&&P(I)})}o(_,p)});var b=r(h,2);{let _=yt(()=>u.data.pagination.currentPage>=u.data.pagination.totalPages);H(b,{onclick:()=>kt(u.data.pagination.currentPage+1),get disabled(){return a(_)},variant:"ghost",size:"sm",children:(y,p)=>{B();var k=L("Next");o(y,k)},$$slots:{default:!0}})}t(l),t(v),o(s,v)};S(Ce,s=>{u.data.pagination.totalPages>1&&s(je)})}t(Pt);var Yt=r(Pt,2);{var $e=s=>{var v=Na(),l=e(v);Y(l,{class:"max-w-md w-full",children:(d,h)=>{var b=Ka(),_=r(e(b),2),y=e(_);t(_);var p=r(_,2),k=e(p);H(k,{variant:"ghost",onclick:()=>{c(ut,!1),c(N,"")},children:(P,D)=>{B();var j=L("Cancel");o(P,j)},$$slots:{default:!0}});var I=r(k,2);H(I,{onclick:()=>xe(a(N)),get disabled(){return a(T)},children:(P,D)=>{B();var j=L();w(()=>M(j,a(T)?"Updating...":"Confirm")),o(P,j)},$$slots:{default:!0}}),t(p),t(b),w(()=>M(y,`Are you sure you want to set ${a($).size??""} selected products to "${a(N)??""}" status?`)),o(d,b)},$$slots:{default:!0}}),t(v),o(s,v)};S(Yt,s=>{a(ut)&&s($e)})}var Me=r(Yt,2);{var ze=s=>{var v=Ra(),l=e(v);Y(l,{class:"max-w-md w-full",children:(d,h)=>{var b=Ja(),_=e(b),y=e(_);{var p=m=>{var A=L("✅ Success");o(m,A)},k=m=>{var A=L("❌ Error");o(m,A)},I=m=>{var A=L("ℹ️ Info");o(m,A)};S(y,m=>{a(pt)==="success"?m(p):a(pt)==="error"?m(k,1):m(I,!1)})}t(_);var P=r(_,2),D=e(P,!0);t(P);var j=r(P,2),E=e(j);H(E,{variant:"ghost",onclick:()=>{c(ft,!1),c(wt,""),c(pt,"success")},children:(m,A)=>{B();var U=L("Close");o(m,U)},$$slots:{default:!0}}),t(j),t(b),w(()=>M(D,a(wt))),o(d,b)},$$slots:{default:!0}}),t(v),o(s,v)};S(Me,s=>{a(ft)&&s(ze)})}w(()=>M(ye,`${u.data.pagination.totalItems??""} products in catalog`)),o(ce,Et),ra(),pe()}Ze(["click","change"]);export{Za as component};
