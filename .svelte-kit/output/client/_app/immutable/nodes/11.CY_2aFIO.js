import{p as fa,h as G,a1 as _a,o as ga,T as ba,i as c,L as f,d as o,e as ka,V as ha,m as d,s as H,$ as xa,c as n,l as r,g as a,r as s,M as J,Z as wa,x as Fa,D as Pa,j as Ma,f as Da,W as Ia,a2 as Aa,a3 as Oa,v as T,I as u,w as _,a4 as Ra,_ as Sa,a8 as Ta,q as K}from"../chunks/euVeJPvK.js";var Va=d('<meta name="description" content="View and manage your favorite products"/>'),Ua=d(`<div class="card empty-state-card svelte-13oylku"><div class="cyber-grid svelte-13oylku"></div> <div class="empty-state svelte-13oylku"><p class="t-text-tertiary">You don't have any favorites yet.</p> <a href="/products" class="btn t-btn-primary svelte-13oylku">Browse Products</a></div></div>`),ja=d('<span class="product-badge product-badge-indigo svelte-13oylku">Featured</span>'),qa=d('<span class="product-badge product-badge-red svelte-13oylku"> </span>'),Ba=d('<span class="compare-price svelte-13oylku"> </span>'),Ca=d('<div class="product-card-wrapper"><div class="card product-card svelte-13oylku"><div class="product-badge-container svelte-13oylku"><!> <!></div> <a class="product-image-link svelte-13oylku"><img class="product-image svelte-13oylku"/></a> <div class="product-details svelte-13oylku"><h3 class="product-name svelte-13oylku"><a class="svelte-13oylku"> </a></h3> <div class="product-price svelte-13oylku"><span class="current-price svelte-13oylku"> </span> <!></div> <div class="product-actions svelte-13oylku"><form method="POST" action="?/removeFavorite"><input type="hidden" name="productId"/> <div class="button-group svelte-13oylku"><a class="btn t-btn-secondary view-button svelte-13oylku">View Details</a> <button type="submit" class="btn t-btn-outline remove-button svelte-13oylku"><!></button></div></form></div></div></div></div>'),La=d('<div class="products-grid svelte-13oylku"></div>'),Na=d(`<div class="favorites-page svelte-13oylku"><div class="account-bg-elements svelte-13oylku"><div class="account-bg-element account-bg-element-1 svelte-13oylku"></div> <div class="account-bg-element account-bg-element-2 svelte-13oylku"></div> <div class="account-bg-element account-bg-element-3 svelte-13oylku"></div></div> <div class="page-container svelte-13oylku"><div class="page-header svelte-13oylku"><h1 class="page-title t-text-brand-primary-light svelte-13oylku">My Favorites</h1> <p class="t-text-tertiary">Products you've saved for later</p></div> <div class="favorites-container"><!></div></div></div>`);function Ya(Q,g){fa(g,!0),g.data.data?.user;const V=Fa(()=>g.data.favorites||[]);let U=G(!1);function j(v){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(v)}let y=G(_a({}));function X(v){H(y,{...a(y),[v]:!0},!0)}function $(v,l){return!l||l<=v?0:Math.round((l-v)/l*100)}ga(()=>{H(U,!0)});var b=Na();ba("13oylku",v=>{var l=Va();ha(()=>{xa.title="My Favorites | FixTar"}),o(v,l)});var k=n(r(b),2),q=r(k),B=n(q,2),aa=r(B);{var ea=v=>{var l=Ua();f(1,l,()=>J,()=>({y:20,duration:500,delay:400})),o(v,l)},ta=v=>{var l=La();Pa(l,23,()=>a(V),h=>h.id,(h,e,sa)=>{var C=Ma(),ra=Da(C);{var va=x=>{var m=Ca(),L=r(m),w=r(L),N=r(w);{var ia=t=>{var i=ja();o(t,i)};c(N,t=>{a(e).featured&&t(ia)})}var la=n(N,2);{var oa=t=>{var i=qa(),R=r(i);s(i),T(S=>_(R,`${S??""}% Off`),[()=>$(a(e).price,a(e).compareAtPrice)]),o(t,i)};c(la,t=>{a(e).compareAtPrice&&a(e).compareAtPrice>a(e).price&&t(oa)})}s(w);var p=n(w,2),W=r(p);s(p);var Y=n(p,2),F=r(Y),P=r(F),na=r(P,!0);s(P),s(F);var M=n(F,2),D=r(M),da=r(D,!0);s(D);var ca=n(D,2);{var ua=t=>{var i=Ba(),R=r(i,!0);s(i),T(S=>_(R,S),[()=>j(a(e).compareAtPrice)]),o(t,i)};c(ca,t=>{a(e).compareAtPrice&&a(e).compareAtPrice>a(e).price&&t(ua)})}s(M);var Z=n(M,2),I=r(Z),A=r(I);Ia(A);var z=n(A,2),E=r(z),O=n(E,2),ya=r(O);{var ma=t=>{var i=K("Removing...");o(t,i)},pa=t=>{var i=K("Remove");o(t,i)};c(ya,t=>{a(y)[a(e).id]?t(ma):t(pa,!1)})}s(O),s(z),s(I),Aa(I,(t,i)=>Oa?.(t,i),()=>()=>(X(a(e).id),({update:t})=>{t()})),s(Z),s(Y),s(L),s(m),T(t=>{u(p,"href",`/products/${(a(e).slug||a(e).id)??""}`),u(W,"src",a(e).mainImage),u(W,"alt",a(e).name),u(P,"href",`/products/${(a(e).slug||a(e).id)??""}`),_(na,a(e).name),_(da,t),Ra(A,a(e).id),u(E,"href",`/products/${(a(e).slug||a(e).id)??""}`),O.disabled=a(y)[a(e).id]},[()=>j(a(e).price)]),f(1,m,()=>Ta,()=>({duration:400,delay:300+a(sa)*100,start:.8,easing:Sa})),o(x,m)};c(ra,x=>{a(U)&&x(va)})}o(h,C)}),s(l),o(v,l)};c(aa,v=>{a(V).length===0?v(ea):v(ta,!1)})}s(B),s(k),s(b),f(1,q,()=>J,()=>({y:-20,duration:400,delay:200})),f(1,k,()=>wa,()=>({duration:300})),o(Q,b),ka()}export{Ya as component};
