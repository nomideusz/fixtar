import{z as gt,p as mt,l as n,i as l,g as s,c as i,r as o,v as m,I as _,w as v,H as ft,K as U,d,e as ht,x as u,f as pt,R as yt,J as _t,al as bt,D as kt,m as c}from"./euVeJPvK.js";import{c as wt,n as zt}from"./BCUCx8Q8.js";var jt=c('<img class="h-64 w-full object-cover object-center group-hover:scale-105 transition-transform duration-500" loading="lazy"/> <div class="hidden items-center justify-center h-64 bg-gray-50"><div class="text-center"><svg class="w-12 h-12 text-gray-400 mx-auto mb-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg> <p class="text-sm text-gray-500">Zdjęcie niedostępne</p></div></div>',1),St=c('<div class="flex items-center justify-center h-64 bg-gray-50"><div class="text-center"><svg class="w-12 h-12 text-gray-400 mx-auto mb-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg> <p class="text-sm text-gray-500">Brak zdjęcia</p></div></div>'),Pt=c('<span class="bg-brand-600 text-white text-xs font-semibold px-2.5 py-1 rounded-md shadow-sm">Polecany</span>'),Ct=c('<span class="bg-red-600 text-white text-xs font-semibold px-2.5 py-1 rounded-md shadow-sm"> </span>'),Dt=c('<span class="bg-gray-600 text-white text-xs font-semibold px-2.5 py-1 rounded-md shadow-sm">Wyprzedane</span>'),It=c('<p class="text-sm text-gray-600 line-clamp-2"> </p>'),Mt=c('<span class="text-xs bg-gray-100 text-gray-700 px-2 py-0.5 rounded"> </span>'),qt=c('<div class="mt-3 flex flex-wrap gap-1"></div>'),At=c('<span class="text-sm text-gray-500 line-through"> </span>'),Lt=c('<div class="mt-1"><span class="text-xs text-gray-400"> </span></div>'),Qt=c('<button aria-label="Szybki podgląd" class="px-3 py-2 border border-gray-300 hover:border-gray-400 bg-white text-gray-700 hover:text-gray-900 rounded-lg transition-colors duration-200"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path></svg></button>'),Tt=c('<div class="group relative bg-white rounded-2xl shadow-md overflow-hidden hover:shadow-xl transition-all duration-300 border border-gray-100"><a class="block cursor-pointer"><div class="relative aspect-w-1 aspect-h-1 w-full overflow-hidden bg-gray-50"><!> <div class="absolute top-3 left-3 flex flex-col gap-2"><!> <!> <!></div></div></a> <div class="p-5"><a class="block"><h3 class="text-base font-semibold text-gray-900 line-clamp-2 mb-1 group-hover:text-brand-600 transition-colors"> </h3> <!></a> <!> <div class="mt-3 flex items-center justify-between"><div class="flex items-center gap-2"><span class="text-lg font-bold text-gray-900"> </span> <!></div> <span> </span></div> <!> <div class="mt-4 flex gap-2"><button class="flex-1 px-4 py-2 bg-brand-600 hover:bg-brand-700 disabled:bg-gray-300 text-white text-sm font-medium rounded-lg transition-colors duration-200 disabled:cursor-not-allowed"> </button> <!></div></div></div>');function Ht(W,a){mt(a,!0);function I(t){return t.inventory?.trackQuantity?t.inventory.quantity>0:!0}function E(t){if(!t.inventory?.trackQuantity)return"Dostępny";const e=t.inventory.quantity,r=t.inventory.lowStockThreshold||10;return e===0?"Wyprzedany":e<=r?`Mało sztuk (${e})`:"Dostępny"}function F(t){if(!t.inventory?.trackQuantity)return"text-emerald-600";const e=t.inventory.quantity,r=t.inventory.lowStockThreshold||10;return e===0?"text-red-600":e<=r?"text-orange-600":"text-emerald-600"}function J(){I(a.product)&&(wt.addItem({productId:a.product.id,name:a.product.name,price:a.product.price,image:a.product.mainImage||void 0}),zt.success(`Dodano ${a.product.name} do koszyka`))}const b=u(()=>a.product.mainImage||""),k=u(()=>I(a.product)),R=u(()=>E(a.product)),Z=u(()=>F(a.product)),w=u(()=>a.product.compareAtPrice&&a.product.compareAtPrice>a.product.price),G=u(()=>s(w)?Math.round((a.product.compareAtPrice-a.product.price)/a.product.compareAtPrice*100):0),N=u(()=>a.product.slug&&a.product.slug.trim()?a.product.slug:a.product.id),M=u(()=>`/products/${s(N)}`);var z=Tt(),h=n(z),q=n(h),A=n(q);{var O=t=>{var e=jt(),r=pt(e);yt(2),m(()=>{_(r,"src",s(b)),_(r,"alt",a.product.name)}),_t("error",r,x=>{console.warn("Image failed to load:",s(b));const g=x.target;if(g){g.style.display="none";const y=g.nextElementSibling;y&&(y.style.display="flex")}}),bt(r),d(t,e)},X=t=>{var e=St();d(t,e)};l(A,t=>{s(b)?t(O):t(X,!1)})}var L=i(A,2),Q=n(L);{var Y=t=>{var e=Pt();d(t,e)};l(Q,t=>{a.product.featured&&t(Y)})}var T=i(Q,2);{var $=t=>{var e=Ct(),r=n(e);o(e),m(()=>v(r,`-${s(G)??""}%`)),d(t,e)};l(T,t=>{s(w)&&t($)})}var tt=i(T,2);{var et=t=>{var e=Dt();d(t,e)};l(tt,t=>{s(k)||t(et)})}o(L),o(q),o(h);var B=i(h,2),p=n(B),j=n(p),at=n(j,!0);o(j);var rt=i(j,2);{var ot=t=>{var e=It(),r=n(e,!0);o(e),m(()=>v(r,a.product.shortDescription)),d(t,e)};l(rt,t=>{a.product.shortDescription&&t(ot)})}o(p);var V=i(p,2);{var nt=t=>{var e=qt();kt(e,20,()=>a.product.expand.categories.slice(0,2),r=>r,(r,x)=>{var g=Mt(),y=n(g,!0);o(g),m(()=>v(y,x.name)),d(r,g)}),o(e),d(t,e)};l(V,t=>{a.product.expand?.categories&&a.product.expand.categories.length>0&&t(nt)})}var S=i(V,2),P=n(S),C=n(P),st=n(C);o(C);var it=i(C,2);{var dt=t=>{var e=At(),r=n(e);o(e),m(x=>v(r,`${x??""} zł`),[()=>a.product.compareAtPrice?.toFixed(2)]),d(t,e)};l(it,t=>{s(w)&&t(dt)})}o(P);var D=i(P,2),ct=n(D,!0);o(D),o(S);var H=i(S,2);{var lt=t=>{var e=Lt(),r=n(e),x=n(r);o(r),o(e),m(()=>v(x,`SKU: ${a.product.sku??""}`)),d(t,e)};l(H,t=>{a.product.sku&&t(lt)})}var K=i(H,2),f=n(K),vt=n(f,!0);o(f);var ut=i(f,2);{var xt=t=>{var e=Qt();U("click",e,()=>a.onQuickView?.(a.product)),d(t,e)};l(ut,t=>{a.onQuickView&&t(xt)})}o(K),o(B),o(z),m(t=>{_(h,"href",s(M)),_(p,"href",s(M)),v(at,a.product.name),v(st,`${t??""} zł`),ft(D,1,`text-xs font-medium ${s(Z)??""}`),v(ct,s(R)),f.disabled=!s(k),v(vt,s(k)?"Dodaj do Koszyka":"Wyprzedane")},[()=>a.product.price.toFixed(2)]),U("click",f,J),d(W,z),ht()}gt(["click"]);export{Ht as P};
